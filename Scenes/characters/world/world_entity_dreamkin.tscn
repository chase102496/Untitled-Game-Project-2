[gd_scene load_steps=8 format=3 uid="uid://rojlf86btf4n"]

[ext_resource type="PackedScene" uid="uid://cw282fyqe5rxb" path="res://Scenes/characters/world/world_entity.tscn" id="1_3q56m"]
[ext_resource type="Script" path="res://Scenes/characters/world/world_entity_dreamkin.gd" id="2_xrtc0"]
[ext_resource type="SpriteFrames" uid="uid://byr527m70fqp4" path="res://Resources/SpriteFrames/dreamkin/default_dreamkin.tres" id="3_b5vqf"]
[ext_resource type="AnimationLibrary" uid="uid://do5csrjeemg0i" path="res://Resources/AnimationLibrary/dreamkin/default_dreamkin.res" id="4_v0udc"]
[ext_resource type="Script" path="res://Logic/components/component_input_controller_follow.gd" id="7_b8adj"]
[ext_resource type="Script" path="res://Logic/components/component_movement_controller.gd" id="13_ftktx"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_wmilg"]
radius = 0.2
height = 0.8

[node name="world_entity_dreamkin" node_paths=PackedStringArray("my_component_movement_controller", "my_component_input_controller", "my_component_ability") groups=["load_data_persistent", "load_data_session", "save_data_persistent", "save_data_session"] instance=ExtResource("1_3q56m")]
collision_layer = 2
collision_mask = 2
script = ExtResource("2_xrtc0")
my_component_movement_controller = NodePath("Components/component_movement_controller")
my_component_input_controller = NodePath("Components/component_input_controller_follow")
my_component_ability = NodePath("Components/component_ability")
alignment = "FRIENDS"
classification = "DREAMKIN"
display_name = "Dreamkin"

[node name="FaceLight" type="OmniLight3D" parent="." index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.125)
light_energy = 0.3
light_indirect_energy = 0.0
light_volumetric_fog_energy = 0.0
light_specular = 0.0
omni_range = 0.513
omni_attenuation = 0.2

[node name="CollisionShape3D" parent="." index="2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.4, 0)
shape = SubResource("CapsuleShape3D_wmilg")

[node name="character_animation_sprite" parent="Components/component_animation/AnimationTransform" index="0"]
transform = Transform3D(2, 0, 0, 0, 2, 0, 0, 0, 2, 0, 0, 0)
offset = Vector2(0, 16)
flip_h = true
texture_filter = 0
sprite_frames = ExtResource("3_b5vqf")
animation = &"default_idle_down"
frame = 1

[node name="selector_center" parent="Components/component_animation/character_sprite_position/relative" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.4, 0)

[node name="status_hud" parent="Components/component_animation/character_sprite_position/relative" index="3" node_paths=PackedStringArray("my_component_health", "my_component_vis", "collider")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.3, 0)
my_component_health = NodePath("../../../../component_health")
my_component_vis = NodePath("../../../../component_vis")
collider = NodePath("../../../../../CollisionShape3D")

[node name="character_animation_player" parent="Components/component_animation" index="2"]
libraries = {
"": ExtResource("4_v0udc")
}

[node name="component_state_controller_world" parent="Components" index="2" node_paths=PackedStringArray("my_component_input_controller")]
my_component_input_controller = NodePath("../component_input_controller_follow")

[node name="component_movement_controller" type="Node" parent="Components" index="5" node_paths=PackedStringArray("my_component_input_controller", "my_component_physics")]
script = ExtResource("13_ftktx")
my_component_input_controller = NodePath("../component_input_controller_follow")
my_component_physics = NodePath("../component_physics")

[node name="component_input_controller_follow" type="Node" parent="Components" index="6" node_paths=PackedStringArray("my_component_movement_controller")]
script = ExtResource("7_b8adj")
my_component_movement_controller = NodePath("../component_movement_controller")

[node name="component_animation_controller_world" parent="Components" index="7" node_paths=PackedStringArray("my_component_input_controller")]
my_component_input_controller = NodePath("../component_input_controller_follow")

[editable path="Components/component_animation"]
[editable path="Components/component_ability"]
